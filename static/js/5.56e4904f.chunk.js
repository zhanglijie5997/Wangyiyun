webpackJsonp([5],{128:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s});var i=n(44),c=n(123),o=this,r=function(){return i.b(o,void 0,Promise,function(){return i.d(this,function(t){switch(t.label){case 0:return[4,c.a.init("/playlist/catlist",{method:"post"}).then(function(t){return t}).catch(function(t){return t})];case 1:return[2,t.sent()]}})})},a=function(t,e,n){return void 0===t&&(t="\u5168\u90e8"),i.b(o,void 0,Promise,function(){return i.d(this,function(i){switch(i.label){case 0:return n?[3,2]:[4,c.a.init("/top/playlist?cat="+t+"&limit="+e,{method:"post"}).then(function(t){return t}).catch(function(t){return t})];case 1:return[2,i.sent()];case 2:return[4,c.a.init("/top/playlist?cat="+t+"&order="+n+"&limit="+e,{method:"post"}).then(function(t){return t}).catch(function(t){return t})];case 3:return[2,i.sent()]}})})},s=function(t,e,n){return void 0===n&&(n="\u5168\u90e8"),i.b(o,void 0,void 0,function(){return i.d(this,function(i){switch(i.label){case 0:return[4,c.a.init("/top/playlist/highquality?before="+e+"&cat="+n+"&limit="+t,{method:"post"}).then(function(t){return Object.freeze(t)}).catch(function(t){return t})];case 1:return[2,i.sent()]}})})}},129:function(t,e,n){"use strict";var i=n(44),c=function(){function t(){this.eventsMap=new Map}return t.prototype.Emit=function(t,e){if("[object Function]"===toString.call(e))throw TypeError("args type is Function, don't use Function");this.eventsMap.set(t,e)},t.prototype.On=function(t,e){var n=this.eventsMap.get(t);switch(toString.call(n)){case"[object Array]":case"[object Object]":e.apply.apply(e,i.g([this],n));break;default:e.call(this,n)}},t.prototype.Off=function(t){this.eventsMap.delete(t)},t.instance=new t,t}();e.a=c.instance},234:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(44),c=n(0),o=n.n(c),r=n(235),a=(n.n(r),n(128)),s=n(46),u=n(129),l=this,f=Object(s.a)(function(){return n.e(1).then(n.bind(null,140))}),p=Object(s.a)(function(){return n.e(17).then(n.bind(null,237))});e.default=function(t){var e=i.e(Object(c.useState)([]),2),n=e[0],r=e[1],s=i.e(Object(c.useState)(0),2),d=s[0],h=s[1],b=i.e(Object(c.useState)(35),2),m=b[0],y=(b[1],i.e(Object(c.useState)(1),2)),v=y[0],g=y[1],O=i.e(Object(c.useState)(0),2),j=O[0],w=O[1],x=i.e(Object(c.useState)("\u5168\u90e8"),2),S=x[0],E=x[1];Object(c.useEffect)(function(){return L(t.name,t.getHot),u.a.On("type",M),u.a.Off("type")},[t.name,t.getHot]);var M=function(t){console.log(t,"msg"),E(t)},B=n.map(function(t,e){return o.a.createElement("li",{className:"musicListBox",key:e},o.a.createElement(f,{item:t}))}),L=Object(c.useCallback)(function(t,e){return i.b(l,void 0,void 0,function(){var e,n;return i.d(this,function(i){switch(i.label){case 0:return[4,Object(a.b)(t,m,"hot")];case 1:return e=i.sent(),n=Math.ceil(e.total/m),h(n),console.log(n," 77"),r(e.playlists),console.log(e.playlists.slice(m-1,m)[0].updateTime,"data.playlists.pop().updateTime"),w(e.playlists.slice(m-1,m)[0].updateTime),[2]}})})},[n,j]),k=Object(c.useCallback)(function(t){return i.b(l,void 0,void 0,function(){var e;return i.d(this,function(n){switch(n.label){case 0:return console.log(t,"\u8bf7\u6c42\u9875\u7801"),g(t),[4,Object(a.c)(m*v,j,S)];case 1:return e=n.sent(),r(e.playlists.slice(m*(v-1),e.playlists.length)),window.scrollTo(0,0),console.log(e),[2]}})})},[v,n]);return Object(c.useEffect)(function(){r(n)},[n]),o.a.createElement("div",{className:"SongListBody"},o.a.createElement("ul",null,B),o.a.createElement(p,{page:d,changePagination:k}))}},235:function(t,e,n){var i=n(236);"string"===typeof i&&(i=[[t.i,i,""]]);var c={hmr:!1,transform:void 0};n(117)(i,c);i.locals&&(t.exports=i.locals)},236:function(t,e,n){(t.exports=n(116)(!1)).push([t.i,".SongListBody {\n  padding-bottom: 30px; }\n  .SongListBody ul {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n    margin: 30px 0 0 -50px; }\n    .SongListBody ul .musicListBox {\n      padding: 0 0 30px 50px; }\n",""])}});